<?xml version="1.0" encoding="UTF-8"?>
<flow xmlns="http://www.springframework.org/schema/webflow" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/webflow http://www.springframework.org/schema/webflow/spring-webflow-2.0.xsd">

	<var name="impHelper" class="example.bean.FlowHelper" />

	<view-state id="start">
		<var name="conversationVar" class="example.bean.MyConversation" />
		<on-entry>
			<set name="conversationScope.myConversationVar" value="conversationVar"></set>
		</on-entry>
		<transition on="next" to="secondstep" >
			<evaluate expression="impHelper.addItem(impHelper.value1)"></evaluate>
		</transition>
	</view-state>

	<view-state id="secondstep">
		<transition on="next" to="thirdstep">
		</transition>
	</view-state>
	<view-state id="thirdstep">
		<transition on="next" to="fourstep" />
	</view-state>
	<view-state id="fourstep">
		<transition on="end" to="end" />
	</view-state>	
	<end-state id="end"  view="externalRedirect:contextRelative:/index.zul">
	</end-state>

</flow>
